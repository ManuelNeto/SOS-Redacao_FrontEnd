<div layout="column" ng-cloak>

  <md-content layout-padding>
    <h3>Minha redação</h3>

    <form name="esssayForm">
      <div layout="row">
        <md-input-container flex="50">
          <h5>Tema</h5>
          <md-select name="type" ng-model="essay.theme" required disabled>
              <md-option ng-value="theme" ng-repeat="theme in themes">{{ theme }}</md-option>
          </md-select>
        </md-input-container>

        <md-input-container flex="50">
          <h5>Tipo de redação</h5>
          <md-select name="type" ng-model="essay.type" required disabled>
            <md-option value="Enem">Enem</md-option>
            <md-option value="Vestibular">Vestibular</md-option>
            <md-option value="Concurso">Concurso</md-option>
          </md-select>
        </md-input-container>
      </div>

      <md-input-container class="md-block" style="text-align: center">
        <h5>Título</h5>
        <input type="text" name="clientEmail" ng-model="essay.title" disabled>
      </md-input-container>

      <div style="text-align: center" ng-show="enable && essay.type == 'Enem'">
        <md-button type="submit" class="md-raised md-primary" ng-click=showAbilitys($event)> Visualizar Habilidades  </md-button>
        <table style="width:100%">
          <tr>
            <th>Competência 1</th>
            <th>Competência 2</th>
            <th>Competência 3</th>
            <th>Competência 4</th>
            <th>Competência 5</th>
            <th>Nota</th>
          </tr>
          <tr>
            <td><input type="number" name="competencia1" ng-model="essay.scores[0]" ng-disabled="enable"></td>
            <td><input type="number" name="competencia1" ng-model="essay.scores[1]" ng-disabled="enable"></td>
            <td><input type="number" name="competencia1" ng-model="essay.scores[2]" ng-disabled="enable"></td>
            <td><input type="number" name="competencia1" ng-model="essay.scores[3]" ng-disabled="enable"></td>
            <td><input type="number" name="competencia1" ng-model="essay.scores[4]" ng-disabled="enable"></td>
            <td><input type="number" name="competencia1" ng-model="essay.scores[5]" ng-disabled="enable"></td>
          </tr>
        </table>
      </div>

      <md-input-container class="md-block" style="text-align: center">
        <textarea type="text" id="text" name="text" ng-model="essay.text" cols="10" rows="20" required disabled></textarea>
      </md-input-container>

      <div style="text-align: right">
        <md-button ng-if="essay._id"class="md-raised md-primary" ng-click="toggleSidenav()"> Visualizar Comentários </md-button>
      </div>

    </form>
  </md-content>

</div>

<!-- ==== RIGHT_BAR ==== -->
<md-sidenav class="md-sidenav-right" md-component-id="closeEventsDisabled" md-whiteframe="4" md-disable-close-events>

        <md-toolbar class="md-theme-indigo">
          <div layout="row">
            <h1 class="md-toolbar-tools" flex="50">Comentários</h1>
            <i class="material-icons" ng-click="toggleSidenav()" style="text-align: right" flex="50">clear</i>
          </div>
        </md-toolbar>

        <md-content layout-margin>
          <div class="rightbar-itens">
              <md-list>
                <md-list-item class="contest md-2-line" ng-repeat="message in essay.messages">
                    <!-- <img ng-src="{{getImage('/user/image/' + message.email)}}" class="md-avatar" alt=""> -->
                    <div class="md-list-item-text">
                        <p>{{message.email}}</p>
                        <p>{{message.timestamp}}</p>
                        <p >{{message.text}}</p>
                        <md-divider></md-divider>
                    </div>
                </md-list-item>
                <md-list-item >
                    <form name="newMessage">
                        <div  layout="column">
                            <div class="contest-message-internal">
                                <p class="small-font-medium">Escrever nova mensagem</p>
                                <md-input-container class="md-block" flex-gt-sm="">
                                    <label>Insira uma mensagem</label>
                                    <textarea ng-model="newMessage.text" id="yourid" ng-minlength="10" ng-maxlength="500" id="newMessage" name="newMessage" required></textarea>
                                </md-input-container>
                            </div>
                        </div>
                        <div class="send-button">
                            <md-button type="submit" class="md-raised md-primary" id="saveNewMessage" ng-click="sendMessage(newMessage.text)">ENVIAR RESPOSTA</md-button>
                        </div>
                    </form>
                </md-list-item>
              </md-list>
          </div>
        </md-content>

</md-sidenav>
<!-- ==== /RIGHT_BAR ==== -->
